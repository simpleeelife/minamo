<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OGP Image Generator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            background: #000;
            color: white;
            font-family: 'Yu Gothic', 'Hiragino Kaku Gothic ProN', sans-serif;
            padding: 20px;
        }
        #canvas {
            display: block;
            margin: 0 auto 20px;
            border: 1px solid #333;
        }
        button {
            display: block;
            margin: 0 auto;
            padding: 10px 30px;
            background: #60A5FA;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
        }
        button:hover {
            background: #3B82F6;
        }
        .info {
            text-align: center;
            margin-top: 20px;
            color: #888;
        }
    </style>
</head>
<body>
    <canvas id="canvas" width="1200" height="630"></canvas>
    <button onclick="downloadImage()">OGP画像をダウンロード (og-minamo.png)</button>
    <div class="info">
        <p>サイズ: 1200 x 630px (Facebook/Twitter推奨)</p>
        <p>右クリックで「名前を付けて画像を保存」も可能</p>
    </div>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');

        // 背景のグラデーション
        const gradient = ctx.createLinearGradient(0, 0, 1200, 630);
        gradient.addColorStop(0, '#0c142c');
        gradient.addColorStop(0.5, '#1a2847');
        gradient.addColorStop(1, '#0c142c');
        ctx.fillStyle = gradient;
        ctx.fillRect(0, 0, 1200, 630);

        // 装飾的な光のエフェクト
        ctx.globalAlpha = 0.3;
        const radialGradient1 = ctx.createRadialGradient(900, 315, 0, 900, 315, 400);
        radialGradient1.addColorStop(0, '#60A5FA');
        radialGradient1.addColorStop(0.5, '#A78BFA');
        radialGradient1.addColorStop(1, 'transparent');
        ctx.fillStyle = radialGradient1;
        ctx.fillRect(0, 0, 1200, 630);

        const radialGradient2 = ctx.createRadialGradient(300, 315, 0, 300, 315, 350);
        radialGradient2.addColorStop(0, '#34D399');
        radialGradient2.addColorStop(0.5, '#60A5FA');
        radialGradient2.addColorStop(1, 'transparent');
        ctx.fillStyle = radialGradient2;
        ctx.fillRect(0, 0, 1200, 630);
        ctx.globalAlpha = 1;

        // 水面のような波紋エフェクト
        ctx.strokeStyle = 'rgba(96, 165, 250, 0.2)';
        ctx.lineWidth = 2;
        for (let i = 0; i < 5; i++) {
            ctx.beginPath();
            ctx.arc(600, 630, 100 + i * 80, 0, Math.PI, true);
            ctx.stroke();
        }

        // キャラクター画像を読み込んで描画
        const img = new Image();
        img.onload = function() {
            // 画像を右側に配置（切り抜き風）
            ctx.save();
            
            // クリッピングマスクを作成（円形グラデーション）
            ctx.beginPath();
            ctx.ellipse(850, 315, 280, 315, 0, 0, Math.PI * 2);
            ctx.clip();
            
            // 画像を描画（アスペクト比を保持）
            ctx.globalAlpha = 0.9;
            const imgAspect = img.width / img.height;
            const drawHeight = 630;
            const drawWidth = drawHeight * imgAspect;
            const xOffset = 850 - (drawWidth / 2);
            ctx.drawImage(img, xOffset, 0, drawWidth, drawHeight);
            ctx.globalAlpha = 1;
            ctx.restore();

            // 画像の周りにグロー効果
            const glowGradient = ctx.createRadialGradient(850, 315, 250, 850, 315, 320);
            glowGradient.addColorStop(0, 'transparent');
            glowGradient.addColorStop(0.8, 'transparent');
            glowGradient.addColorStop(1, 'rgba(167, 139, 250, 0.4)');
            ctx.fillStyle = glowGradient;
            ctx.fillRect(570, 0, 630, 630);

            // テキストを追加
            // メインタイトル「みなも」
            ctx.font = 'bold 90px "Yu Mincho", serif';
            ctx.fillStyle = '#FFFFFF';
            ctx.shadowColor = '#A78BFA';
            ctx.shadowBlur = 20;
            ctx.fillText('みなも', 100, 250);
            
            // 英語タイトル
            ctx.font = '48px Georgia, serif';
            ctx.fillStyle = '#60A5FA';
            ctx.shadowColor = '#60A5FA';
            ctx.shadowBlur = 15;
            ctx.fillText('Minamo', 100, 320);
            
            // キャッチコピー
            ctx.font = '36px "Yu Gothic", sans-serif';
            ctx.fillStyle = '#E0E7FF';
            ctx.shadowColor = '#A78BFA';
            ctx.shadowBlur = 10;
            ctx.fillText('失われた私を探す', 100, 420);
            ctx.fillText('＜鏡界＞の歌い手', 100, 480);

            // 装飾的なライン
            ctx.strokeStyle = 'rgba(167, 139, 250, 0.5)';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(100, 360);
            ctx.lineTo(400, 360);
            ctx.stroke();
        };
        img.src = 'image/minamo.png';

        function downloadImage() {
            const link = document.createElement('a');
            link.download = 'og-minamo.png';
            link.href = canvas.toDataURL('image/png');
            link.click();
        }
    </script>
</body>
</html>